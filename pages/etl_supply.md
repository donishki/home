<!-- HEADER -->
<div align="center">
 
<a href="https://raw.githubusercontent.com/realkemon/home/master/levelshots/supply/supply.png"><img src="https://raw.githubusercontent.com/realkemon/home/master/levelshots/supply/supply.png" width="512"/></a>

# Supply Depot
 
<!-- TOC -->
<a href="https://github.com/realkemon/home/blob/master/pages/etl_supply.md#objectives">Objectives</a> ● <a href="https://github.com/realkemon/home/blob/master/pages/etl_supply.md#media">Media</a> ● <a href="https://github.com/realkemon/home/blob/master/pages/etl_supply.md#options">Options</a> ● <a href="https://github.com/realkemon/home/blob/master/pages/etl_supply.md#changelog">Changelog</a> ● <a href="https://github.com/realkemon/home/blob/master/pages/etl_supply.md#specs_and_credits">Specs and Credits</a>
<!-- STORY -->
**Campaign: 'Submarine Depot' (1/3)**
 <br>
According to OSA intel, a local supply depot is currently preparing a shipment to the Bergen submarine depot, which is blocking Allied naval convoys from reaching shore. Threfore, Allied paratroopers are tasked with the seizure of those resources and use them to strengthen the local resistance. The Axis cannot, under any circumstances, allow this shipment to fall into Allied hands as it would disrupt operability of the naval base and will attempt to defend the depot at all cost.
<br>
 
<a href="https://www.moddb.com/mods/etlegacy/addons/etl-supply-depot-v7" title="Download ETL Supply Depot (v7) - Mod DB" target="_blank"><img src="https://button.moddb.com/download/medium/227097.png" alt="ETL Supply Depot (v7)" /></a>

## Objectives
 
<a href="https://raw.githubusercontent.com/realkemon/home/master/levelshots/supply/supply_cc_overlay.png"><img src="https://raw.githubusercontent.com/realkemon/home/master/levelshots/supply/supply_cc_overlay.png" width="256"/></a>
 
* [ ] The Allies will attempt to escort a truck safely into the Supply Depot.
* [ ] The Allies need to repair a crane to lift the shipment onto the truck.
* [ ] The Allies need to escort the valuable cargo safely to the local resistance.


## Media
<a href="https://raw.githubusercontent.com/realkemon/home/master/levelshots/supply/supply1.jpg"><img src="https://raw.githubusercontent.com/realkemon/home/master/levelshots/supply/supply1.jpg"></a>

<a href="https://raw.githubusercontent.com/realkemon/home/master/levelshots/supply/supply2.jpg"><img src="https://raw.githubusercontent.com/realkemon/home/master/levelshots/supply/supply2.jpg"></a>

<a href="https://raw.githubusercontent.com/realkemon/home/master/levelshots/supply/supply3.jpg"><img src="https://raw.githubusercontent.com/realkemon/home/master/levelshots/supply/supply3.jpg"></a>

<a href="https://raw.githubusercontent.com/realkemon/home/master/levelshots/supply/supply4.jpg"><img src="https://raw.githubusercontent.com/realkemon/home/master/levelshots/supply/supply4.jpg"></a>

<a href="https://raw.githubusercontent.com/realkemon/home/master/levelshots/supply/supply5.jpg"><img src="https://raw.githubusercontent.com/realkemon/home/master/levelshots/supply/supply5.jpg"></a>

<a href="https://raw.githubusercontent.com/realkemon/home/master/levelshots/supply/supply6.jpg"><img src="https://raw.githubusercontent.com/realkemon/home/master/levelshots/supply/supply6.jpg"></a>

<a href="https://raw.githubusercontent.com/realkemon/home/master/levelshots/supply/supply7.jpg"><img src="https://raw.githubusercontent.com/realkemon/home/master/levelshots/supply/supply7.jpg"></a>

<a href="https://raw.githubusercontent.com/realkemon/home/master/levelshots/supply/supply8.jpg"><img src="https://raw.githubusercontent.com/realkemon/home/master/levelshots/supply/supply8.jpg"></a>

<a href="https://raw.githubusercontent.com/realkemon/home/master/levelshots/supply/supply9.jpg"><img src="https://raw.githubusercontent.com/realkemon/home/master/levelshots/supply/supply9.jpg"></a>

<a href="https://raw.githubusercontent.com/realkemon/home/master/levelshots/supply/supply10.jpg"><img src="https://raw.githubusercontent.com/realkemon/home/master/levelshots/supply/supply10.jpg"></a>

<a href="https://raw.githubusercontent.com/realkemon/home/master/levelshots/supply/supply11.jpg"><img src="https://raw.githubusercontent.com/realkemon/home/master/levelshots/supply/supply11.jpg"></a>

<a href="https://raw.githubusercontent.com/realkemon/home/master/levelshots/supply/supply12.jpg"><img src="https://raw.githubusercontent.com/realkemon/home/master/levelshots/supply/supply12.jpg"></a>

<a href="https://raw.githubusercontent.com/realkemon/home/master/levelshots/supply/supply13.jpg"><img src="https://raw.githubusercontent.com/realkemon/home/master/levelshots/supply/supply13.jpg"></a>

<a href="https://raw.githubusercontent.com/realkemon/home/master/levelshots/supply/supply14.jpg"><img src="https://raw.githubusercontent.com/realkemon/home/master/levelshots/supply/supply14.jpg"></a>

<a href="https://raw.githubusercontent.com/realkemon/home/master/levelshots/supply/supply15.jpg"><img src="https://raw.githubusercontent.com/realkemon/home/master/levelshots/supply/supply15.jpg"></a>

<a href="https://raw.githubusercontent.com/realkemon/home/master/levelshots/supply/supply16.jpg"><img src="https://raw.githubusercontent.com/realkemon/home/master/levelshots/supply/supply16.jpg"></a>

<a href="https://raw.githubusercontent.com/realkemon/home/master/levelshots/supply/supply17.jpg"><img src="https://raw.githubusercontent.com/realkemon/home/master/levelshots/supply/supply17.jpg"></a>

<a href="https://raw.githubusercontent.com/realkemon/home/master/levelshots/supply/supply18.jpg"><img src="https://raw.githubusercontent.com/realkemon/home/master/levelshots/supply/supply18.jpg"></a>

<a href="https://raw.githubusercontent.com/realkemon/home/master/levelshots/supply/supply19.jpg"><img src="https://raw.githubusercontent.com/realkemon/home/master/levelshots/supply/supply19.jpg"></a>

## Changelog

</div>

<details>
 <summary><b>version 7</b> <i>(Jan 23 2022)</i></summary>
 
* [x] Removed glitchy rock at cave exit near depot gates. *(Thank you Kimi for reporting.)*
* [x] Fixed flying vent at forward gate in first stage.
* [x] Fixed sun being in wrong position on 2.60b clients by adding dummy `q3map_sun` shader. *(Thank you Aciz for reporting.)*
* [x] Increased `-bounce` from 3 to 6. *(Thank you Aciz for suggesting.)*
* [x] Adjusted height of central mountain to reenable riflenade shots. *(Thank you ET: Legacy competitive community for reporting.)*
* [x] Removed versioning from pk3 contents. *(Thank you bystry and Aciz for suggesting.)*
* [x] Adjusted lighting settings for improved performance. *(Thank you Aciz for suggesting.)*
* [x] Adjusted etl_lights.shader to enable remapshader use. *(Thank you Aciz for reporting.)*

</details>

<details>
 <summary><b>version 6</b> <i>(semi-public test release)</i></summary>
 
* [x] Adjusted terrain near Depot Gates tunnel exit to allow a riflenade trickshot again. *(Thank you zenixje for reporting.)*
* [x] Merged terrain brushes directly in front of Depot Gates to allow for 'edge sliding' again. *(Thank you WuT for reporting.)*
* [x] Reduced height of middle mountain to allow various riflenade shots again. *(Thank you detdet, keithms and iQA for reporting.)*
</details>

<details>
 <summary><b>version 5</b> <i>(Jun 27 2021)</i></summary>
 
* [x] Fixed `crane_sound` (constructed controls) playing in second round after `/map_restart`.
* [x] Added unique `id`s for spawn slots to prepare [this](https://github.com/etlegacy/etlegacy/issues/1641) feature.
* [x] Changed and restructured assets to increase shared content across all overhauls.
</details>

<details>
 <summary><b>version 4</b> <i>(Mar 11 2021)</i></summary>
 
* [x] Re-added *'Truck is in position'* line as announcement. *(Thank you SAP for reporting)*
* [x] Added satchel exploit fix for crane controls. *(Thank you jobhh for reporting)*
* [x] Added optional spawn cabinets. *(Thank you Dmxj for requesting)*
* [x] Fixed speaker pointing to incorrect sound file.
</details>

<details>
 <summary><b>version 3</b> <i>(Jan 20 2021)</i></summary>
 
* [x] Substantial performance improvements by reducing drawn surfaces with adjusted light settings. *(Thank you hatcher for comprehensive support)*
* [x] Provided option to toggle truck invulnerable or not through mapscript (invulnerable by default). *(Thank you ETc.Jay for reporting and absolutely huge thanks to Ensiform for finding the perfect way to do this)*
* [x] Fixed gold crate support blocks visible through walls.
* [x] Fixed `setstate` errors in console after dynamiting 1st main gate. *(Thank you WuTangH for reporting)*
* [x] Fixed CP sound playing in second round after `/map_restart`. *(Thank you WuTangH for reporting)*
* [x] Fixed `surfaceparm grasssteps` to add missing sounds when walking on grass. *(Thank you WuTangH and Aciz for reporting)*
* [x] Adjusted clip brush at forward bunker teamdoor/gate to prevent getting stuck on the edge. 
* [x] Crate controls not showing satchel icon for Axis. *(Thank you WuTangH for reporting)*
* [x] Fixed visible seams in terrain textures.
* [x] Increased amount of spawn slots from 20vs20 to 32vs32. *(Thank you Dmxj for reporting)*
* [x] Fixed skyportal incorectly having sky shader instead of mountain.
* [x] Fixed flying rock next to east depot wall.
* [x] Reduced weird shadows from the ceiling lampshades. *(Thank you Aciz for reporting.)*
</details>

<details>
 <summary><b>version 2</b> <i>(Dec 20 2020)</i></summary>
 
* [x] Changed floodlight colour to uniform white. *(Thank you Aciz for reporting.)*
* [x] Fixed vanilla ET compatibility. *(Thank you Kate for reporting.)*
* [x] Fixed various trickjumps. *(Thank you Aciz for reporting.)*
* [x] Cleaned collision for easier player movement. *(Thank you Aciz for reporting.)*
* [x] Fixed mirrored textures in vanilla ET. *(Thank you Aciz for reporting.)*
* [x] Changed crane control construction indicators for clearer visibility.
* [x] Improved lighting and general visibility.
* [x] Fixed issue where planting landmines was possible everywhere. *(Thank you Aciz for reporting.)*
</details>

<details>
 <summary><b>version 1</b> <i>(unreleased private test)</i></summary>
 
* [x] Added targetname and scriptname to nearly all in-game entities to enable server admins to build custom scripts if desired.
* [x] Extended map skywards to allow for free shoutcaster/spectator movement.
* [x] Implemented windows into the forward bunker roof to allow shoutcasters and spectators to maintain an overview at all times.
* [x] Comprehensive rework of structural mesh to improve on VIS.
* [x] Removed player collision from noticeboards, picture frames, lying doors etc.
* [x] Enlarged some door and window frames for more consistent use of dimensions across the map.
* [x] Colour-coded stairwells in forward bunker.
* [x] Fixed clip position of destroyed allied cp model.
* [x] Removed collision from crane rope.
* [x] Dispersed spawn points to declutter mass spawn events.
* [x] Adjusted terrain around some rocks to prevent leaks at the border.
* [x] Added team specific CP sounds.
* [x] Re-added previously removed radio speakers.
* [x] Increased player count to 20v20.
* [x] Added external antenna as visual indicator for CP status.
* [x] Changed depot alarm to only sound for a specific time (15 seconds) instead of linked to the truck position.
</details>

<div align="center">

## Specs and Credits

### Options
 
ET maps are played in different gamemodes and configurations, occasionally calling for different settings. To avoid maintaining separate variations of the same map, optional features have been added, which can be toggled in the map script `pk3/maps/<mapname>.script`. Toggle the optional features by (un-)commenting the respective line. Upload the changed mapscript to your server's mapscript directory *(path depends on mod)*. The following optional features are included in **Supply Depot**:
* [ ] Option to set truck damageable by explosions. *(default invulnerable)*
* [x] Clip brush in the crane controls window to prevent trickjumps. *(default enabled)*
* [x] Option to disable radio speakers playing music. *(default enabled)*
* [ ] Additional Command Post spawn for the Axis team. *(default disabled)*
* [ ] Optional health and ammo cabinets at the forward spawn flag once the Allies secured it. *(default disabled)*
* [ ] Optional health and ammo cabinets at the CP once it's constructed by either team. *(default disabled)*
* [ ] Optional health and ammo cabinets at the Axis depot spawn. *(default disabled)*
 
 
### Compile parameters

</div>

```
<build name="Supply Depot">
<command>[q3map2] -bsp -meta -samplesize 4 -v -mv 1024 -mi 6144 &quot;[MapFile]&quot;</command>
<command>[q3map2] -vis -saveprt -v &quot;[MapFile]&quot;</command>
<command>[q3map2] -light -fast -samples 4 -samplesize 4 -bounce 6 -bouncegrid -v -thresh 0.5 -shade -dirty -dirtdepth 256 -lightmapsize 2048 -patchshadows -external &quot;[MapFile]&quot;</command>
</build>
```

<div align="center">
 
### Source
Since we are talking about an open-source game, in my opinion as much as possible should be available to the public. In that spirit, the map source, along with sources of my other maps, can be found in this repo. It is kept up-to-date with all latest changes, which means the map source does not necessarily reflect the status of the last release.
<br>
<a href="https://github.com/realkemon/home/tree/master/maps">> DOWNLOAD <</a>
 
### Credits
This is not my own map. It is a visual overhaul of an existing map created by **ginc**.
<br>
They still hold all the rights to the map design and original idea and I do not claim ownership of it.

</div>

----
[:arrow_backward: Return to Home](https://github.com/realkemon/home/blob/master/README.md) [:arrow_double_up: Back to the Top](https://github.com/realkemon/home/blob/master/pages/etl_supply.md)
